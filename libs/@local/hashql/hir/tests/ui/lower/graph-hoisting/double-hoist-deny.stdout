════ Initial HIR ═══════════════════════════════════════════════════════════════

#let a:0 = true
     b:0 = true
in
::graph::tail::collect(::graph::body::filter(::graph::head::entities(::graph::tmp::decision_time_now()),
#fn(vertex1:0: _0): _1 ->
    #let c:0 = ::graph::tail::collect(::graph::body::filter(::graph::head::entities(::graph::tmp::decision_time_now()),
             #fn(vertex2:0: _2): _3 ->
                 ::core::cmp::eq(vertex1:0.id.entity_id.entity_uuid, vertex2:0
                 .id.entity_id.entity_uuid)))
    in
    true))

════ HIR after graph hoisting ══════════════════════════════════════════════════

#let a:0 = true
     b:0 = true
     %5 = ::graph::tmp::decision_time_now()
     %6 = ::graph::tmp::decision_time_now()
     %8 = ::graph::head::entities(%5) |> ::graph::body::filter(#fn(vertex1:0:
         Entity[(id: EntityRecordId[(edition_id: EntityEditionId[Uuid[String]],
           entity_id: EntityId[(draft_id: (None[Null]
             | Some[DraftId[Uuid[String]]]), entity_uuid:
            EntityUuid[Uuid[String]], web_id:
            WebId[ActorGroupEntityUuid[Uuid[String]]])])], link_data:
          (None[Null]
           | Some[LinkData[(left_entity_id: EntityId[(draft_id: (None[Null]
              | Some[DraftId[Uuid[String]]]), entity_uuid:
             EntityUuid[Uuid[String]], web_id:
             WebId[ActorGroupEntityUuid[Uuid[String]]])], right_entity_id:
            EntityId[(draft_id: (None[Null] | Some[DraftId[Uuid[String]]]),
             entity_uuid: EntityUuid[Uuid[String]], web_id:
             WebId[ActorGroupEntityUuid[Uuid[String]]])])]]), properties: ?)]):
         Boolean ->
             #let c:0 = ::graph::head::entities(%6)
                      |> ::graph::body::filter(#fn(vertex2:0: Entity[(id:
                       EntityRecordId[(edition_id:
                        EntityEditionId[Uuid[String]], entity_id:
                        EntityId[(draft_id: (None[Null]
                          | Some[DraftId[Uuid[String]]]), entity_uuid:
                         EntityUuid[Uuid[String]], web_id:
                         WebId[ActorGroupEntityUuid[Uuid[String]]])])],
                       link_data: (None[Null]
                        | Some[LinkData[(left_entity_id: EntityId[(draft_id:
                          (None[Null] | Some[DraftId[Uuid[String]]]),
                          entity_uuid: EntityUuid[Uuid[String]], web_id:
                          WebId[ActorGroupEntityUuid[Uuid[String]]])],
                         right_entity_id: EntityId[(draft_id: (None[Null]
                           | Some[DraftId[Uuid[String]]]), entity_uuid:
                          EntityUuid[Uuid[String]], web_id:
                          WebId[ActorGroupEntityUuid[Uuid[String]]])])]]),
                       properties: ?)]): Boolean ->
                          #let %7 = (vertex1:0.id.entity_id.entity_uuid ==
                                   vertex2:0.id.entity_id.entity_uuid)
                          in
                          %7) |> ::graph::tail::collect
             in
             true) |> ::graph::tail::collect
in
%8
