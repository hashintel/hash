════ Initial HIR ═══════════════════════════════════════════════════════════════

let a:0 = true,
    b:0 = true
in
::graph::tail::collect(::graph::body::filter(::graph::head::entities(::graph::tmp::decision_time_now()),
(vertex1:0: _0): _1 ->
    let c:0 = ::graph::tail::collect(::graph::body::filter(::graph::head::entities(::graph::tmp::decision_time_now()),
        (vertex2:0: _2): _3 ->
            ::core::cmp::eq(vertex1:0.id.entity_id.entity_uuid,
            vertex2:0.id.entity_id.entity_uuid)))
    in
    true))

════ HIR after graph hoisting ══════════════════════════════════════════════════

let a:0 = true,
    b:0 = true,
    %5 = ::graph::tmp::decision_time_now(),
    %6 = ::graph::tmp::decision_time_now(),
    %8 = entity(%5)
    | filter((
        vertex1:0: ::graph::types::knowledge::entity::Entity(
            id: ::graph::types::knowledge::entity::EntityRecordId(
                edition_id: ::graph::types::knowledge::entity::EntityEditionId(::core::uuid::Uuid(String)),
                entity_id: ::graph::types::knowledge::entity::EntityId(
                    draft_id: ::core::option::None(Null)
                    | ::core::option::Some(::graph::types::knowledge::entity::DraftId(::core::uuid::Uuid(String))),
                    entity_uuid: ::graph::types::knowledge::entity::EntityUuid(::core::uuid::Uuid(String)),
                    web_id: ::graph::types::principal::actor_group::web::WebId(::graph::types::principal::actor_group::ActorGroupEntityUuid(::core::uuid::Uuid(String)))
                )
            ),
            link_data: ::core::option::None(Null)
            | ::core::option::Some(::graph::types::knowledge::entity::LinkData(
                left_entity_id: ::graph::types::knowledge::entity::EntityId(
                    draft_id: ::core::option::None(Null)
                    | ::core::option::Some(::graph::types::knowledge::entity::DraftId(::core::uuid::Uuid(String))),
                    entity_uuid: ::graph::types::knowledge::entity::EntityUuid(::core::uuid::Uuid(String)),
                    web_id: ::graph::types::principal::actor_group::web::WebId(::graph::types::principal::actor_group::ActorGroupEntityUuid(::core::uuid::Uuid(String)))
                ),
                right_entity_id: ::graph::types::knowledge::entity::EntityId(
                    draft_id: ::core::option::None(Null)
                    | ::core::option::Some(::graph::types::knowledge::entity::DraftId(::core::uuid::Uuid(String))),
                    entity_uuid: ::graph::types::knowledge::entity::EntityUuid(::core::uuid::Uuid(String)),
                    web_id: ::graph::types::principal::actor_group::web::WebId(::graph::types::principal::actor_group::ActorGroupEntityUuid(::core::uuid::Uuid(String)))
                )
            )),
            properties: ?
        )
    ): Boolean ->
        let c:0 = entity(%6)
            | filter((
                vertex2:0: ::graph::types::knowledge::entity::Entity(
                    id: ::graph::types::knowledge::entity::EntityRecordId(
                        edition_id: ::graph::types::knowledge::entity::EntityEditionId(::core::uuid::Uuid(String)),
                        entity_id: ::graph::types::knowledge::entity::EntityId(
                            draft_id: ::core::option::None(Null)
                            | ::core::option::Some(::graph::types::knowledge::entity::DraftId(::core::uuid::Uuid(String))),
                            entity_uuid: ::graph::types::knowledge::entity::EntityUuid(::core::uuid::Uuid(String)),
                            web_id: ::graph::types::principal::actor_group::web::WebId(::graph::types::principal::actor_group::ActorGroupEntityUuid(::core::uuid::Uuid(String)))
                        )
                    ),
                    link_data: ::core::option::None(Null)
                    | ::core::option::Some(::graph::types::knowledge::entity::LinkData(
                        left_entity_id: ::graph::types::knowledge::entity::EntityId(
                            draft_id: ::core::option::None(Null)
                            | ::core::option::Some(::graph::types::knowledge::entity::DraftId(::core::uuid::Uuid(String))),
                            entity_uuid: ::graph::types::knowledge::entity::EntityUuid(::core::uuid::Uuid(String)),
                            web_id: ::graph::types::principal::actor_group::web::WebId(::graph::types::principal::actor_group::ActorGroupEntityUuid(::core::uuid::Uuid(String)))
                        ),
                        right_entity_id: ::graph::types::knowledge::entity::EntityId(
                            draft_id: ::core::option::None(Null)
                            | ::core::option::Some(::graph::types::knowledge::entity::DraftId(::core::uuid::Uuid(String))),
                            entity_uuid: ::graph::types::knowledge::entity::EntityUuid(::core::uuid::Uuid(String)),
                            web_id: ::graph::types::principal::actor_group::web::WebId(::graph::types::principal::actor_group::ActorGroupEntityUuid(::core::uuid::Uuid(String)))
                        )
                    )),
                    properties: ?
                )
            ): Boolean ->
                let %7 = vertex1:0.id.entity_id.entity_uuid == vertex2:0.id.entity_id.entity_uuid
                in
                %7)
            | collect
        in
        true)
    | collect
in
%8
