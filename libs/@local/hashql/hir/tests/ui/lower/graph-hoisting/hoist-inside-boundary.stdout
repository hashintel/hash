════ Initial HIR ═══════════════════════════════════════════════════════════════

let a:0 = true,
    b:0 = true
in
if true then
    ::core::option::Some(::graph::tail::collect(::graph::body::filter(::graph::head::entities(::graph::tmp::decision_time_now()),
    (vertex:0: _0): _1 -> ::core::cmp::eq(a:0, b:0))))
else
    ::core::option::None()

════ HIR after graph hoisting ══════════════════════════════════════════════════

let a:0 = true,
    b:0 = true,
    %10 =
        if true then
            let %3 = ::graph::tmp::decision_time_now(),
                %4 = a:0 == b:0,
                %5 =
                    entity(%3)
                    | filter((
                        vertex:0: ::graph::types::knowledge::entity::Entity(
                            id: ::graph::types::knowledge::entity::EntityRecordId(
                                edition_id: ::graph::types::knowledge::entity::EntityEditionId(::core::uuid::Uuid(String)),
                                entity_id: ::graph::types::knowledge::entity::EntityId(
                                    draft_id: ::core::option::None(Null)
                                    | ::core::option::Some(::graph::types::knowledge::entity::DraftId(::core::uuid::Uuid(String))),
                                    entity_uuid: ::graph::types::knowledge::entity::EntityUuid(::core::uuid::Uuid(String)),
                                    web_id: ::graph::types::principal::actor_group::web::WebId(::graph::types::principal::actor_group::ActorGroupEntityUuid(::core::uuid::Uuid(String)))
                                )
                            ),
                            link_data: ::core::option::None(Null)
                            | ::core::option::Some(::graph::types::knowledge::entity::LinkData(
                                left_entity_id: ::graph::types::knowledge::entity::EntityId(
                                    draft_id: ::core::option::None(Null)
                                    | ::core::option::Some(::graph::types::knowledge::entity::DraftId(::core::uuid::Uuid(String))),
                                    entity_uuid: ::graph::types::knowledge::entity::EntityUuid(::core::uuid::Uuid(String)),
                                    web_id: ::graph::types::principal::actor_group::web::WebId(::graph::types::principal::actor_group::ActorGroupEntityUuid(::core::uuid::Uuid(String)))
                                ),
                                right_entity_id: ::graph::types::knowledge::entity::EntityId(
                                    draft_id: ::core::option::None(Null)
                                    | ::core::option::Some(::graph::types::knowledge::entity::DraftId(::core::uuid::Uuid(String))),
                                    entity_uuid: ::graph::types::knowledge::entity::EntityUuid(::core::uuid::Uuid(String)),
                                    web_id: ::graph::types::principal::actor_group::web::WebId(::graph::types::principal::actor_group::ActorGroupEntityUuid(::core::uuid::Uuid(String)))
                                )
                            )),
                            properties: ?
                        )
                    ): Boolean -> let  in %4)
                    | collect,
                %6 = ::core::option::Some,
                %7 = %6(%5)
            in
            %7
        else
            let %8 = ::core::option::None,
                %9 = %8()
            in
            %9
in
%10
