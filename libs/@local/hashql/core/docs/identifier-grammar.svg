<svg
  class="railroad"
  viewBox="0 0 944 785"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink"
>
  <style type="text/css">
    svg.railroad {
      background-color: hsl(30, 20%, 95%);
      background-size: 15px 15px;
      background-image: linear-gradient(
          to right,
          rgba(30, 30, 30, 0.05) 1px,
          transparent 1px
        ),
        linear-gradient(to bottom, rgba(30, 30, 30, 0.05) 1px, transparent 1px);
    }

    svg.railroad rect.railroad_canvas {
      stroke-width: 0px;
      fill: none;
    }

    svg.railroad path {
      stroke-width: 3px;
      stroke: black;
      fill: none;
    }

    svg.railroad .debug {
      stroke-width: 1px;
      stroke: red;
    }

    svg.railroad text {
      font: 14px monospace;
      text-anchor: middle;
    }

    svg.railroad .nonterminal text {
      font-weight: bold;
    }

    svg.railroad text.comment {
      font: italic 12px monospace;
    }

    svg.railroad rect {
      stroke-width: 3px;
      stroke: black;
      fill: hsl(-290, 70%, 90%);
    }

    svg.railroad g.labeledbox > rect {
      stroke-width: 1px;
      stroke: grey;
      stroke-dasharray: 5px;
      fill: rgba(90, 90, 150, 0.1);
    }
  </style>
  <rect class="railroad_canvas" height="100%" width="100%" />
  <g class="verticalgrid">
    <g class="sequence">
      <path
        d=" M 10 57 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"
      />
      <text class="comment" x="57" y="62">ident</text>
      <g class="choice">
        <path d=" M 90 57 h 24 m 306 0 h 24" />
        <g class="labeledbox">
          <rect height="136" width="306" x="114" y="10" />
          <path d=" M 114 57 h 8 m 290 0 h 8" />
          <text class="comment" x="151" y="33">Lexical</text>
          <g class="choice">
            <path d=" M 122 57 h 24 m 242 0 h 24" />
            <g class="sequence">
              <g class="nonterminal">
                <rect height="22" width="92" x="146" y="46" />
                <text x="192" y="62">XID_START</text>
              </g>
              <g class="repeat">
                <path
                  d=" M 248 57 h 12 m 0 0 h 128 m -61 0 l -5 -5 m 0 10 l 5 -5 m 61 0 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m -116 0 h 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"
                />
                <g class="nonterminal">
                  <rect height="22" width="116" x="260" y="70" />
                  <text x="318" y="86">XID_CONTINUE</text>
                </g>
                <g />
              </g>
              <path d=" M 238 57 h 10" />
            </g>
            <path
              d=" M 122 57 a 12 12 0 0 1 12 12 v 33 m 266 0 v -33 a 12 12 0 0 1 12 -12"
            />
            <path
              d=" M 134 102 v 0 a 12 12 0 0 0 12 12 m 178 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"
            />
            <g class="sequence">
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="146" y="103" />
                <text x="160" y="119">_</text>
              </g>
              <g class="repeat">
                <path
                  d=" M 184 114 h 12 m 116 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -116 m 61 0 l 5 -5 m 0 10 l -5 -5 m -61 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"
                />
                <g />
                <g class="nonterminal">
                  <rect height="22" width="116" x="196" y="103" />
                  <text x="254" y="119">XID_CONTINUE</text>
                </g>
              </g>
              <path d=" M 174 114 h 10" />
            </g>
          </g>
        </g>
        <path
          d=" M 90 57 a 12 12 0 0 1 12 12 v 87 m 0 -40 l -5 -5 m 10 0 l -5 5 m 0 40 m 330 0 v -87 m 0 46 l -5 5 m 10 0 l -5 -5 m 0 -46 a 12 12 0 0 1 12 -12"
        />
        <path
          d=" M 102 227 v 125 m 0 -59 l -5 -5 m 10 0 l -5 5 m 0 59 m 330 0 v -125 m 0 65 l -5 5 m 10 0 l -5 -5 m 0 -65"
        />
        <path
          d=" M 102 156 v 71 m 0 -32 l -5 -5 m 10 0 l -5 5 m 0 32 a 12 12 0 0 0 12 12 m 224 0 h 82 m -38 0 l -5 -5 m 0 10 l 5 -5 m 38 0 a 12 12 0 0 0 12 -12 v -71 m 0 38 l -5 5 m 10 0 l -5 -5 m 0 -38"
        />
        <g class="labeledbox">
          <rect height="186" width="224" x="114" y="156" />
          <path d=" M 114 239 h 8 m 208 0 h 8" />
          <text class="comment" x="148" y="179">Symbol</text>
          <g class="choice">
            <path
              d=" M 122 239 h 24 m 84 0 h 100 m -47 0 l -5 -5 m 0 10 l 5 -5 m 47 0"
            />
            <g class="labeledbox">
              <rect height="66" width="84" x="146" y="192" />
              <path d=" M 146 239 h 8 m 68 0 h 8" />
              <text class="comment" x="173" y="215">Bare</text>
              <g class="sequence">
                <g class="nonterminal">
                  <rect height="22" width="68" x="154" y="228" />
                  <text x="188" y="244">symbol</text>
                </g>
              </g>
            </g>
            <path
              d=" M 122 239 a 12 12 0 0 1 12 12 v 17 m 184 0 v -17 a 12 12 0 0 1 12 -12"
            />
            <path
              d=" M 134 268 v 35 a 12 12 0 0 0 12 12 m 160 0 h 0 a 12 12 0 0 0 12 -12 v -35"
            />
            <g class="labeledbox">
              <rect height="66" width="160" x="146" y="268" />
              <path d=" M 146 315 h 8 m 144 0 h 8" />
              <text class="comment" x="183" y="291">Escaped</text>
              <g class="sequence">
                <g class="terminal">
                  <rect
                    height="22"
                    rx="10"
                    ry="10"
                    width="28"
                    x="154"
                    y="304"
                  />
                  <text x="168" y="320">`</text>
                </g>
                <g class="nonterminal">
                  <rect height="22" width="68" x="192" y="304" />
                  <text x="226" y="320">symbol</text>
                </g>
                <g class="terminal">
                  <rect
                    height="22"
                    rx="10"
                    ry="10"
                    width="28"
                    x="270"
                    y="304"
                  />
                  <text x="284" y="320">`</text>
                </g>
                <path d=" M 182 315 h 10" />
                <path d=" M 260 315 h 10" />
              </g>
            </g>
          </g>
        </g>
        <path
          d=" M 102 352 v 35 a 12 12 0 0 0 12 12 m 176 0 h 130 m -62 0 l -5 -5 m 0 10 l 5 -5 m 62 0 a 12 12 0 0 0 12 -12 v -35"
        />
        <g class="labeledbox">
          <rect height="66" width="176" x="114" y="352" />
          <path d=" M 114 399 h 8 m 160 0 h 8" />
          <text class="comment" x="151" y="375">BaseUrl</text>
          <g class="sequence">
            <g class="terminal">
              <rect height="22" rx="10" ry="10" width="28" x="122" y="388" />
              <text x="136" y="404">`</text>
            </g>
            <g class="nonterminal">
              <rect height="22" width="84" x="160" y="388" />
              <text x="202" y="404">base-url</text>
            </g>
            <g class="terminal">
              <rect height="22" rx="10" ry="10" width="28" x="254" y="388" />
              <text x="268" y="404">`</text>
            </g>
            <path d=" M 150 399 h 10" />
            <path d=" M 244 399 h 10" />
          </g>
        </g>
      </g>
      <path
        d=" M 454 57 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"
      />
      <path d=" M 25 57 h 10" />
      <path d=" M 80 57 h 10" />
      <path d=" M 444 57 h 10" />
    </g>
    <g class="sequence">
      <path
        d=" M 10 466 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"
      />
      <text class="comment" x="61" y="471">symbol</text>
      <g class="labeledbox">
        <rect height="254" width="812" x="97" y="430" />
        <path d=" M 97 466 h 8 m 796 0 h 8" />
        <text class="comment" x="152" y="453">at least one</text>
        <g class="repeat">
          <path
            d=" M 105 466 h 12 m 772 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 186 m 0 -90 l -5 -5 m 10 0 l -5 5 m 0 90 a 12 12 0 0 1 -12 12 m 0 0 h -772 m 389 0 l 5 -5 m 0 10 l -5 -5 m -389 0 a 12 12 0 0 1 -12 -12 v -186 m 0 96 l -5 5 m 10 0 l -5 -5 m 0 -96 a 12 12 0 0 1 12 -12"
          />
          <g />
          <g class="sequence">
            <g class="choice">
              <path
                d=" M 117 466 h 24 m 0 0 h 52 m -23 0 l -5 -5 m 0 10 l 5 -5 m 23 0"
              />
              <g />
              <path
                d=" M 117 466 a 12 12 0 0 1 12 12 v 0 m 52 0 v 0 a 12 12 0 0 1 12 -12"
              />
              <path d=" M 129 478 v 33 m 52 0 v -33" />
              <path d=" M 129 511 v 33 m 52 0 v -33" />
              <path d=" M 129 544 v 33 m 52 0 v -33" />
              <path d=" M 129 577 v 33 m 52 0 v -33" />
              <path
                d=" M 129 478 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="141" y="479" />
                <text x="155" y="495">!</text>
              </g>
              <path
                d=" M 129 511 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="141" y="512" />
                <text x="155" y="528">#</text>
              </g>
              <path
                d=" M 129 544 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="141" y="545" />
                <text x="155" y="561">$</text>
              </g>
              <path
                d=" M 129 577 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="141" y="578" />
                <text x="155" y="594">%</text>
              </g>
              <path
                d=" M 129 610 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="141" y="611" />
                <text x="155" y="627">&amp;</text>
              </g>
            </g>
            <g class="choice">
              <path
                d=" M 203 466 h 24 m 0 0 h 52 m -23 0 l -5 -5 m 0 10 l 5 -5 m 23 0"
              />
              <g />
              <path
                d=" M 203 466 a 12 12 0 0 1 12 12 v 0 m 52 0 v 0 a 12 12 0 0 1 12 -12"
              />
              <path d=" M 215 478 v 33 m 52 0 v -33" />
              <path d=" M 215 511 v 33 m 52 0 v -33" />
              <path d=" M 215 544 v 33 m 52 0 v -33" />
              <path d=" M 215 577 v 33 m 52 0 v -33" />
              <path
                d=" M 215 478 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="227" y="479" />
                <text x="241" y="495">*</text>
              </g>
              <path
                d=" M 215 511 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="227" y="512" />
                <text x="241" y="528">+</text>
              </g>
              <path
                d=" M 215 544 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="227" y="545" />
                <text x="241" y="561">.</text>
              </g>
              <path
                d=" M 215 577 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="227" y="578" />
                <text x="241" y="594">/</text>
              </g>
              <path
                d=" M 215 610 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="227" y="611" />
                <text x="241" y="627">&lt;</text>
              </g>
            </g>
            <g class="choice">
              <path
                d=" M 289 466 h 24 m 0 0 h 52 m -23 0 l -5 -5 m 0 10 l 5 -5 m 23 0"
              />
              <g />
              <path
                d=" M 289 466 a 12 12 0 0 1 12 12 v 0 m 52 0 v 0 a 12 12 0 0 1 12 -12"
              />
              <path d=" M 301 478 v 33 m 52 0 v -33" />
              <path d=" M 301 511 v 33 m 52 0 v -33" />
              <path d=" M 301 544 v 33 m 52 0 v -33" />
              <path d=" M 301 577 v 33 m 52 0 v -33" />
              <path
                d=" M 301 478 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="313" y="479" />
                <text x="327" y="495">=</text>
              </g>
              <path
                d=" M 301 511 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="313" y="512" />
                <text x="327" y="528">&gt;</text>
              </g>
              <path
                d=" M 301 544 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="313" y="545" />
                <text x="327" y="561">?</text>
              </g>
              <path
                d=" M 301 577 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="313" y="578" />
                <text x="327" y="594">@</text>
              </g>
              <path
                d=" M 301 610 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="313" y="611" />
                <text x="327" y="627">\</text>
              </g>
            </g>
            <g class="choice">
              <path
                d=" M 375 466 h 24 m 0 0 h 52 m -23 0 l -5 -5 m 0 10 l 5 -5 m 23 0"
              />
              <g />
              <path
                d=" M 375 466 a 12 12 0 0 1 12 12 v 0 m 52 0 v 0 a 12 12 0 0 1 12 -12"
              />
              <path d=" M 387 478 v 33 m 52 0 v -33" />
              <path d=" M 387 511 v 33 m 52 0 v -33" />
              <path d=" M 387 544 v 33 m 52 0 v -33" />
              <path d=" M 387 577 v 33 m 52 0 v -33" />
              <path d=" M 387 610 v 33 m 52 0 v -33" />
              <path
                d=" M 387 478 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="399" y="479" />
                <text x="413" y="495">^</text>
              </g>
              <path
                d=" M 387 511 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="399" y="512" />
                <text x="413" y="528">|</text>
              </g>
              <path
                d=" M 387 544 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="399" y="545" />
                <text x="413" y="561">-</text>
              </g>
              <path
                d=" M 387 577 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="399" y="578" />
                <text x="413" y="594">~</text>
              </g>
              <path
                d=" M 387 610 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="399" y="611" />
                <text x="413" y="627">[</text>
              </g>
              <path
                d=" M 387 643 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"
              />
              <g class="terminal">
                <rect height="22" rx="10" ry="10" width="28" x="399" y="644" />
                <text x="413" y="660">]</text>
              </g>
            </g>
            <g class="choice">
              <path
                d=" M 461 466 h 24 m 0 0 h 404 m -199 0 l -5 -5 m 0 10 l 5 -5 m 199 0"
              />
              <g />
              <path
                d=" M 461 466 a 12 12 0 0 1 12 12 v 0 m 404 0 v 0 a 12 12 0 0 1 12 -12"
              />
              <path
                d=" M 473 478 v 35 a 12 12 0 0 0 12 12 m 380 0 h 0 a 12 12 0 0 0 12 -12 v -35"
              />
              <g class="labeledbox">
                <rect height="99" width="380" x="485" y="478" />
                <path d=" M 485 525 h 8 m 364 0 h 8" />
                <text class="comment" x="529" y="501">Non ASCII</text>
                <g class="choice">
                  <path d=" M 493 525 h 24 m 316 0 h 24" />
                  <g class="nonterminal">
                    <rect height="22" width="316" x="517" y="514" />
                    <text x="675" y="530">
                      UNICODE_GENERAL_CATEGORY_PUNCTUATION
                    </text>
                  </g>
                  <path
                    d=" M 493 525 a 12 12 0 0 1 12 12 v 9 m 340 0 v -9 a 12 12 0 0 1 12 -12"
                  />
                  <path
                    d=" M 505 546 v 0 a 12 12 0 0 0 12 12 m 276 0 h 40 a 12 12 0 0 0 12 -12 v 0"
                  />
                  <g class="nonterminal">
                    <rect height="22" width="276" x="517" y="547" />
                    <text x="655" y="563">UNICODE_GENERAL_CATEGORY_SYMBOL</text>
                  </g>
                </g>
              </g>
            </g>
            <path d=" M 193 466 h 10" />
            <path d=" M 279 466 h 10" />
            <path d=" M 365 466 h 10" />
            <path d=" M 451 466 h 10" />
          </g>
        </g>
      </g>
      <path
        d=" M 919 466 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"
      />
      <path d=" M 25 466 h 10" />
      <path d=" M 87 466 h 10" />
      <path d=" M 909 466 h 10" />
    </g>
    <g class="sequence">
      <path
        d=" M 10 756 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"
      />
      <text class="comment" x="68" y="761">base-url</text>
      <g class="labeledbox">
        <rect height="79" width="316" x="111" y="696" />
        <path d=" M 111 756 h 8 m 300 0 h 8" />
        <text class="comment" x="236" y="719">
          Must be a valid URL per RFC3986
        </text>
        <g class="sequence">
          <g class="terminal">
            <rect height="22" rx="10" ry="10" width="52" x="119" y="745" />
            <text x="145" y="761">http</text>
          </g>
          <g class="optional">
            <path
              d=" M 181 756 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"
            />
            <g class="terminal">
              <rect height="22" rx="10" ry="10" width="28" x="205" y="745" />
              <text x="219" y="761">s</text>
            </g>
          </g>
          <g class="terminal">
            <rect height="22" rx="10" ry="10" width="44" x="267" y="745" />
            <text x="289" y="761">://</text>
          </g>
          <g class="terminal">
            <rect height="22" rx="10" ry="10" width="60" x="321" y="745" />
            <text x="351" y="761">/.*?/</text>
          </g>
          <g class="terminal">
            <rect height="22" rx="10" ry="10" width="28" x="391" y="745" />
            <text x="405" y="761">/</text>
          </g>
          <path d=" M 171 756 h 10" />
          <path d=" M 257 756 h 10" />
          <path d=" M 311 756 h 10" />
          <path d=" M 381 756 h 10" />
        </g>
      </g>
      <path
        d=" M 437 756 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"
      />
      <path d=" M 25 756 h 10" />
      <path d=" M 101 756 h 10" />
      <path d=" M 427 756 h 10" />
    </g>
  </g>
</svg>
