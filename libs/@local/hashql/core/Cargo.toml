[package]
name              = "hashql-core"
version.workspace = true
edition.workspace = true
license.workspace = true
publish.workspace = true
authors.workspace = true

[dependencies]
# Public workspace dependencies
hash-codec         = { workspace = true, features = ["numeric"], public = true }
hashql-diagnostics = { workspace = true, public = true }

# Public third-party dependencies
anstyle   = { workspace = true, public = true }
foldhash  = { workspace = true, public = true }
hashbrown = { workspace = true, public = true }
pretty    = { workspace = true, public = true }
smallvec  = { workspace = true, public = true }
text-size = { workspace = true, public = true }

# Private workspace dependencies

# Private third-party dependencies
anstyle-lossy        = { workspace = true }
bitvec               = { workspace = true, features = ["alloc"] }
bump-scope           = { version = "1.5.1", default-features = false, features = ["std", "alloc", "panic-on-alloc", "nightly-coerce-unsized", "nightly-exact-size-is-empty", "nightly-trusted-len", "nightly-fn-traits", "nightly-tests", "nightly-dropck-eyepatch", "nightly-clone-to-uninit"] }
derive_more          = { workspace = true, features = ["debug", "from"] }
ena                  = { workspace = true }
lexical              = { workspace = true, features = ["parse-integers", "parse-floats", "format"] }
memchr               = { workspace = true }
rapidfuzz            = { workspace = true }
roaring              = { workspace = true, features = ["std", "simd"] }
rpds                 = { workspace = true, features = ["std"] }
serde                = { workspace = true, optional = true, features = ["alloc", "derive"] }
simple-mermaid       = { workspace = true }
tracing              = { workspace = true }
unicase              = { workspace = true, features = ["nightly"] }
unicode-segmentation = { workspace = true }

[features]
serde = ["dep:serde", "text-size/serde"]

[lints]
workspace = true

[dev-dependencies]
codspeed-criterion-compat = { workspace = true }
insta                     = { workspace = true }
proptest                  = { workspace = true }
rstest                    = { workspace = true }
test-strategy             = { workspace = true }

[[bench]]
name    = "type_system"
harness = false
