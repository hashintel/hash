//@ run: pass
//@ description: Dead subtree elimination after constant switch folding
// After folding `if false`, the then-branch with its entire nested structure becomes
// unreachable. This tests that a whole subtree of blocks is marked dead, not just
// the immediate successor.
[
  "if",
  { "#literal": false },
  [
    "if",
    ["<=", { "#literal": 1 }, { "#literal": 2 }],
    [
      "if",
      [">=", { "#literal": 3 }, { "#literal": 4 }],
      { "#literal": "deeply-nested-then" },
      { "#literal": "deeply-nested-else" }
    ],
    { "#literal": "inner-else" }
  ],
  { "#literal": "taken" }
]
