graph TB
    subgraph Mastra Framework
        A[Agent] -->|uses| T[Tools]
        A -->|can be called by| W[Workflow]

        subgraph Workflow
            S1[Step] -->|.then| S2[Step]
            S2 -->|.parallel| S3a[Step]
            S2 -->|.parallel| S3b[Step]
            S3a -->|.then| S4[Step]
            S3b -->|.then| S4
        end

        W -->|emits| E[Events]
        W -->|suspend/resume| DB[(Storage)]
    end

    S1 -.->|may invoke| A
    S2 -.->|may invoke| A
